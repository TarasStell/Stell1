<script src="{{'custom-announcement-bar.js' | asset_url}}" defer="defer"></script>
{{ "custom-announcement.css" | asset_url | stylesheet_tag }}



<div class="swiper-announcement">
    <div class="swiper-wrapper">
        {% for block in section.blocks %}
            {% if block.settings.enable_checkbox %}
                <div class="swiper-slide">
                    <div class="custom-announcement-bar custom-announcement-bar--{{block.id}} custom-bar">
                        <a class="custom-announcement-bar__link custom-announcement-bar__link--{{block.id}}" href="{{ block.settings.link }}">
                            <p class="custom-announcement-bar__message custom-announcement-bar__message--{{block.id}}">{{ block.settings.announcement_bar_text }}</p>
                        </a>
                        <button class="fa-solid fa-xmark custom-announcement__icon custom-announcement__icon--{{block.id}} btn-x"></button>
                    </div>
                </div> 
            {% endif %}
        {% endfor %}
    </div>
</div>





{% for block in section.blocks %}
    {% style %}

         .custom-announcement-bar--{{block.id}} {
            background-color: {{block.settings.bg-color}};   
         }

        .custom-announcement__icon--{{block.id}}{
            font-size: {{block.settings.font-size-btn}}px;
            color: {{block.settings.font-color}};
        }

        .custom-announcement-bar__link--{{block.id}}{
            margin-right: {{block.settings.space-between}}%;
        }

        .custom-announcement-bar__message--{{block.id}}{
            {% if block.settings.bold-text %}
                font-weight: bold;
            {% endif %}
            text-transform: {{block.settings.text-transform}};
            font-size: {{block.settings.font-size}}px;
            padding: {{block.settings.height}}px 0;
           
            color: {{block.settings.font-color}}
        };
        {% endstyle %}
{% endfor %}


{% schema %}
{
    "name": "Custom Announcement Bar",
    "max_blocks": 6,
    "blocks": [
       {
          "type": "announcement",
          "name": "Announcement",
          "settings": [
             {
                "type": "checkbox",
                "id": "enable_checkbox",
                "label": "Enable section",
                "default": false
             },
             {
                "type": "text",
                "id": "announcement_bar_text",
                "default": "Default announcement",
                "label": "Announcement Text"
             },
             {
                "type": "select",
                "id": "text-transform",
                "label": "Text Transform",
                "options": [
                   {
                      "value": "normal",
                      "label": "Normal"
                   },
                   {
                      "value": "lowercase",
                      "label": "Lowercase"
                   },
                   {
                      "value": "uppercase",
                      "label": "Uppercase"
                   },
                   {
                      "value": "capitalize",
                      "label": "CapitaLize"
                   }
                ],
                "default": "normal"
             },
             {
                "type": "checkbox",
                "id": "bold-text",
                "label": "Bold Text",
                "default": false
             },
             {
                "type": "range",
                "id": "font-size",
                "label": "Font Size",
                "default": 14,
                "min": 10,
                "max": 22,
                "step": 1,
                "unit": "px"
             },
             {
                "type": "range",
                "id": "font-size-btn",
                "label": "Font Size Btn",
                "default": 10,
                "min": 6,
                "max": 20,
                "step": 1,
                "unit": "px"
             },
             {
                "type": "range",
                "id": "space-between",
                "label": "Space Between",
                "default": 3,
                "min": 1,
                "max": 50,
                "step": 1,
                "unit": "%"
             },
             {
                "type": "color",
                "id": "font-color",
                "label": "Font Color",
                "default": "#3E0909"
             },
             {
                "type": "range",
                "id": "height",
                "label": "Height",
                "default": 6,
                "min": 0,
                "max": 30,
                "step": 1,
                "unit": "px"
             },
             {
                "type": "color",
                "id": "bg-color",
                "label": "background Color",
                "default": "#ffffff"
             },
             {
                "type": "url",
                "id": "link",
                "label": "link"
             }
          ]
       }
    ]
 }
{% endschema %}