<script src="{{'custom-announcement-bar.js' | asset_url}}" async="async"></script>


{% assign count = 0 %}


{% for block in section.blocks %}
    {% case block.type %}
        {% when 'announcement' %}
            {% if block.settings.enable_checkbox %}
                <div class="custom-announcement-bar-{{count}} custom-bar">
                    <a class="custom-announcement-bar__link-{{count}}" href="{{ block.settings.link }}">
                        <p class="custom-announcement-bar__message-{{count}}">{{ block.settings.announcement_bar_text }}</p>
                    </a>
                    <button class="fa-solid fa-xmark custom-announcement__icon-{{count}} btn-x"></button>


                </div>
            {% endif %}

            {% style %}

.custom-announcement-bar-{{count}}{
    display: flex;
    justify-content: center;
    align-items: center;
}

.custom-announcement__icon-{{count}}{
    background-color: transparent;
    transition-duration: 0.3s;
    border-radius: 30%;
    cursor: pointer;
    font-size: {{block.settings.font-size-btn}}px;
    color: {{block.settings.font-color}};
    border-color: transparent;
}

.custom-announcement__icon-{{count}}:hover {

    opacity: 0.53;
}


.hidden {
    display: none;
}

.custom-announcement-bar__link-{{count}}{
    text-decoration: none;
    margin-right: {{block.settings.space-between}}%;
}


.custom-announcement-bar__message-{{count}}{
    margin: 0;

    {% if block.settings.bold-text %}
        font-weight: bold;
    {% endif %}
    text-transform: {{block.settings.text-transform}};

    font-size: {{block.settings.font-size}}px;
    padding: {{block.settings.height}}px 0;
    background-color: {{block.settings.bg-color}};
    color: {{block.settings.font-color}}};

{% endstyle %}

            {% assign count = count | plus:1 %}

    {% endcase %}

{% endfor %}


{% schema %}

{
    "name": "Custom Announcement Bar",
    "max_blocks": 6,
    "blocks": [
        {
            "type": "announcement",
            "name": "Announcement",
            "settings": [
                {
                    "type": "checkbox",
                    "id": "enable_checkbox",
                    "label": "Enable section",
                    "default": false
                },
            
                {
                    "type": "text",
                    "id": "announcement_bar_text",
                    "default": "Default announcement",
                    "label": "Announcement Text"
                }, {
                    "type": "select",
                    "id": "text-transform",
                    "label": "Text Transform",
                    "options": [
                        {
                            "value": "normal",
                            "label": "Normal"
                        }, {
                            "value": "lowercase",
                            "label": "Lowercase"
                        }, {
                            "value": "uppercase",
                            "label": "Uppercase"
                        }, {
                            "value": "capitalize",
                            "label": "CapitaLize"
                        }
                    ],
                    "default": "normal"
                }, {
                    "type": "checkbox",
                    "id": "bold-text",
                    "label": "Bold Text",
                    "default": false
                }, {
                    "type": "range",
                    "id": "font-size",
                    "label": "Font Size",
                    "default": 14,
                    "min": 10,
                    "max": 22,
                    "step": 1,
                    "unit": "px"
                }, {
                    "type": "range",
                    "id": "font-size-btn",
                    "label": "Font Size Btn",
                    "default": 10,
                    "min": 6,
                    "max": 20,
                    "step": 1,
                    "unit": "px"
                }, {
                    "type": "range",
                    "id": "space-between",
                    "label": "Space Between",
                    "default": 3,
                    "min": 1,
                    "max": 50,
                    "step": 1,
                    "unit": "%"
                }, {
                    "type": "color",
                    "id": "font-color",
                    "label": "Font Color",
                    "default": "#eeeeee"
                }, {
                    "type": "range",
                    "id": "height",
                    "label": "Height",
                    "default": 6,
                    "min": 0,
                    "max": 30,
                    "step": 1,
                    "unit": "px"
                }, {
                    "type": "color",
                    "id": "bg-color",
                    "label": "background Color",
                    "default": "#ffffff"
                }, {
                    "type": "url",
                    "id": "link",
                    "label": "link"
                }
            ]
        }
    ]
}

{% endschema %}